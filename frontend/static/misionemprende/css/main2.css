:root {
    --udd-magenta: #D40F7D;
    --udd-dark: #a80c63;
    --game-accent: #FFD700; /* Dorado */
}
body {
    font-family: 'Montserrat', sans-serif;
    /* Fondo gamer degradado */
    background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
    color: #e2e8f0;
    min-height: 100vh;
    overflow-x: hidden;
}
h1, h2, h3, .gamer-font {
    font-family: 'Russo One', sans-serif;
    letter-spacing: 1px;
}
.udd-color { color: var(--udd-magenta); }
.udd-bg { background-color: var(--udd-magenta); }
.udd-gradient { background: linear-gradient(45deg, var(--udd-magenta), var(--udd-dark)); }
.game-card {
    background: #ffffff;
    border-radius: 1rem;
    border-bottom: 4px solid rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    color: #1a202c;
}
.game-card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
    border-bottom-color: var(--udd-magenta);
}

/* Animaciones */
.fade-in { animation: fadeIn 0.5s ease-in; }
.bounce-in { animation: bounceIn 0.8s; }
.slide-up { animation: slideUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) both; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes bounceIn {
    0% { opacity: 0; transform: scale(0.3); }
    50% { opacity: 1; transform: scale(1.05); }
    70% { transform: scale(0.9); }
    100% { transform: scale(1); }
}
@keyframes slideUp {
    0% { transform: translateY(100px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
}
@keyframes popIn {
    0% { transform: scale(0.9); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}
/* Estilos Específicos */
.token-badge {
    background: linear-gradient(45deg, #FFD700, #FFA500);
    color: #1a202c;
    text-shadow: 0px 1px 0px rgba(255,255,255,0.5);
}

.white-text {
    color: #eef2f8;
    text-shadow: 0px 1px 0px rgb(143, 76, 123);
}


/* Bubble Map */
.bubble-container {
    position: relative;
    height: 500px; /* Aumentar altura para 8 nodos */
    width: 100%;
    display: flex;
    margin: 0 auto;
    justify-content: center;
    align-items: center;
}
.bubble-center {
    width: 140px; height: 140px; border-radius: 50%;
    background: var(--udd-magenta); color: white;
    display: flex; align-items: center; justify-content: center;
    z-index: 10; font-weight: bold; box-shadow: 0 4px 15px rgba(255, 255, 255, 0.5);
    text-align: center;
}
.bubble-node {
    position: absolute; background: rgb(255, 255, 255); padding: 10px;
    border-radius: 8px; width: 140px;
    box-shadow: 0 4px 8px rgba(35, 3, 52, 0.1); border: 3px solid #eeeeee; color: #3e2f45;
}
.bubble-node:focus-within { border-color: var(--udd-magenta); z-index: 20; }
.bubble-node textarea { width: 100%; resize: none; border: none; outline: none; font-size: 0.95rem; background: transparent; color:#eeeeee}

/* Ahora si mierda */
@media (min-width: 769px) {
    /* Arriba y Abajo (Centrados) */
    .pos-1 { top: 15px; left: 50%; transform: translateX(-50%); } 
    .pos-6 { bottom: 15px; left: 50%; transform: translateX(-50%); } 

    .pos-3 { top: 50%; right: 15px; transform: translateY(-50%); } 
    .pos-8 { top: 50%; left: 15px; transform: translateY(-50%); } 

    .pos-2 { top: 12%; right: 5%; }
    .pos-4 { top: 12%; left: 5%; }
    .pos-5 { bottom: 12%; right: 5%; }
    .pos-7 { bottom: 12%; left: 5%; }
}

/* FINALMENTE LO LOGRÉ CTM*/
@media (max-width: 768px) {
    .bubble-container {
        height: auto !important;
        flex-direction: column;
        padding: 20px;
        gap: 15px; 
    }

    .bubble-center {
        order: -1; /* el ckfculo rosa va primero (arriba) */
        margin-bottom: 20px;
        position: relative;
    }

    .bubble-node {
        position: relative !important;
        top: auto !important;
        left: auto !important;
        right: auto !important;
        bottom: auto !important;
        transform: none !important;
        
        width: 100%;
        max-width: 300px;
    }
}

/* Sopa de letras */
.word-grid {
    display: grid; grid-template-columns: repeat(8, 1fr); gap: 4px; max-width: 340px; margin: 0 auto;
}
.letter-cell {
    background: #f0f4f8; aspect-ratio: 1; display: flex; align-items: center; justify-content: center;
    font-weight: bold; cursor: pointer; border-radius: 8px; color: #333; box-shadow: inset 0 -2px 0 rgba(0,0,0,0.1);
    transition: all 0.2s;
}
.letter-cell:hover { background-color: #e2e8f0; }
.letter-cell.selected { background-color: #fcd34d; color: #333; transform: scale(0.95); box-shadow: inset 0 2px 0 rgba(0,0,0,0.2); } /* Amarillo al seleccionar */
.letter-cell.found { background-color: #22c55e !important; color: white !important; transform: scale(1); animation: bounceIn 0.5s; } /* Verde al encontrar */
.letter-cell.correct-word { background-color: #f87171 !important; color: white !important; } /* Rojo/Rosa al timeout */

/* Utilería */
section { display: none; }
section.active { display: block; }
.hidden { display: none !important; }

/* Estilo para descripciones de persona */
.persona-card:hover .persona-description {
    max-height: 560px; /* Hace visible la descripción */
    opacity: 1;
    padding-top: 12px;
}
.persona-description {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.5s ease-in-out;
}

/* --- ESTILOS DE TRANSICIÓN DE TARJETAS --- */
/* 1. Estado Inicial: Resumen abierto, Texto completo cerrado */
.summary-text {
    /* Le damos una altura máxima inicial suficiente para que quepa el resumen */
    max-height: 300px; 
    opacity: 1;
    overflow: hidden;
    transition: all 0.3s ease-in-out; /* Animación suave */
}

.full-description {
    max-height: 0;      /* Cerrado */
    opacity: 0;         /* Invisible */
    overflow: hidden;
    transition: all 0.5s ease-in-out; /* Un poco más lento para dar efecto de despliegue */
}

/* 2. Estado Hover: Intercambio suave */

/* Achicamos el resumen hasta que desaparece (pero sin quitarlo del DOM) */
.persona-card:hover .summary-text {
    max-height: 0;
    opacity: 0;
    margin: 0; /* Importante: quitamos márgenes para que colapse totalmente */
}

/* Expandimos el texto completo */
.persona-card:hover .full-description {
    max-height: 600px; /* Valor alto para asegurar que quepa todo el texto */
    opacity: 1;
}

/* 3. ¡EL SALVAVIDAS! (Evita el parpadeo si el mouse está muy al borde) */
.persona-card {
    min-height: 280px; /* Forzamos una altura mínima para que la tarjeta nunca se encoja demasiado */
}

/* Estilos para campos de entrada (inputs) */
input[type="text"],
input[type="number"],
select,
textarea {
    background-color: #ffffff;
    color: #1a202c;
}

input[type="text"]:focus,
input[type="number"]:focus,
select:focus,
textarea:focus {
    outline: none;
    border-color: var(--udd-magenta) !important;
    box-shadow: 0 0 0 4px rgba(212, 15, 125, 0.2) !important;
}

/* Asegurar que los inputs dentro de game-card tengan fondo blanco */
.game-card input[type="text"],
.game-card input[type="number"],
.game-card select,
.game-card textarea {
    background-color: #ffffff !important;
    color: #1a202c !important;
}

/* Estilos para inputs con clases de Tailwind */
input.bg-white,
select.bg-white,
textarea.bg-white {
    background-color: #ffffff !important;
}

/* Agrega esto al final de tu archivo main2.css */

/* Cuando la sección de selección de personajes esté activa, le damos sus poderes */
section.active#view-stage2-persona-select {
    display: flex !important;
    flex-direction: column;
    min-height: 100vh; /* Altura completa */
}

/* --- ESTILOS DE TRANSICIÓN GAMER --- */

/* Asegurar centrado (Vital para que no se vaya a la esquina) */
section.active#view-transition {
    display: flex !important;
}


@keyframes spinSlow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
.animate-spin-slow {
    animation: spinSlow 12s linear infinite;
}

/* Animación de rotación inversa para el anillo del contador */
@keyframes spinReverse {
    from { transform: rotate(360deg); }
    to { transform: rotate(0deg); }
}
.animate-spin-reverse {
    animation: spinReverse 10s linear infinite;
}

/* Rebote más lento y espacial para el cohete */
@keyframes bounceSlow {
    0%, 100% { transform: translateY(-5%); }
    50% { transform: translateY(5%); }
}
.animate-bounce-slow {
    animation: bounceSlow 2s infinite ease-in-out;
}
/* --- REGLAS DE VISUALIZACIÓN PARA VISTAS NUEVAS --- */

/* 1. Login de Admin (Necesita Flex para centrar la tarjeta) */
section.active#view-admin-login {
    display: flex !important;
    align-items: center;
    justify-content: center;
}

/* 2. Dashboard Admin (Necesita Block normal para el scroll) */
section.active#view-admin-dashboard {
    display: block !important;
}

/* 3. Vista Profesor (Necesita Flex columna) */
section.active#view-professor {
    display: flex !important;
    flex-direction: column;
}